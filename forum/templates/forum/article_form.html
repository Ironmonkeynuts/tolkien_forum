{% extends "base.html" %}

{% block title %}
  {% if article %}Edit{% else %}Add{% endif %} Article | Speak, Friend and Enter
{% endblock %}

{% block content %}
<div class="container mt-4">
  <h1 class="mb-4">{% if article %}Edit{% else %}Add{% endif %} Article</h1>

  <form method="post" enctype="multipart/form-data">
    {% csrf_token %}
    
    <!-- Title -->
    <div class="mb-3">
      {{ form.title.label_tag }}
      {{ form.title }}
      {% for error in form.title.errors %}
        <div class="text-danger">{{ error }}</div>
      {% endfor %}
    </div>

    <!-- Excerpt -->
    <div class="mb-3">
      {{ form.excerpt.label_tag }}
      {{ form.excerpt }}
      {% for error in form.excerpt.errors %}
        <div class="text-danger">{{ error }}</div>
      {% endfor %}
    </div>

    <!-- Primary Image -->
    <div class="mb-3">
      {{ form.primary_image.label_tag }}
      {{ form.primary_image }}
      {% for error in form.primary_image.errors %}
        <div class="text-danger">{{ error }}</div>
      {% endfor %}
    </div>

    <!-- Primary Image Fit -->
    <div class="mb-3">
      {{ form.primary_image_fit.label_tag }}
      {{ form.primary_image_fit }}
      {% for error in form.primary_image_fit.errors %}
        <div class="text-danger">{{ error }}</div>
      {% endfor %}
    </div>

    <!-- Content -->
    <div class="mb-3">
      {{ form.content.label_tag }}
      {{ form.content }}
      {% for error in form.content.errors %}
        <div class="text-danger">{{ error }}</div>
      {% endfor %}
    </div>

    <!-- Status -->
    <div class="mb-3">
      {{ form.status.label_tag }}
      {{ form.status }}
      {% for error in form.status.errors %}
        <div class="text-danger">{{ error }}</div>
      {% endfor %}
    </div>

    <!-- Buttons -->
    <button type="submit" class="btn btn-primary">
      {% if article %}Update{% else %}Create{% endif %} Article
    </button>
    <a href="{% url 'forum' %}" class="btn btn-secondary">Cancel</a>
  </form>

  <!-- Required for Summernote media -->
  {{ form.media }}
</div>
{% endblock %}
